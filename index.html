<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <title>Salesforce Messaging</title>
  </head>
  <body>
    <script type="text/javascript">
      function initEmbeddedMessaging() {
        try {
          embeddedservice_bootstrap.settings.language = "en_US"; // For example, enter 'en' or 'en-US'

          embeddedservice_bootstrap.init(
            "00D0T0000000qdb",
            "BSD_Customer_Support",
            "https://downstream--osdbsd.sandbox.my.site.com/ESWBSDCustomerSupport1701878211794",
            {
              scrt2URL:
                "https://downstream--osdbsd.sandbox.my.salesforce-scrt.com",
            }
          );
        } catch (err) {
          console.error("Error loading Embedded Messaging: ", err);
        }
      }
    </script>
    <script
      type="text/javascript"
      src="https://downstream--osdbsd.sandbox.my.site.com/ESWBSDCustomerSupport1701878211794/assets/js/bootstrap.min.js"
      onload="initEmbeddedMessaging()"
    ></script>

    <!-- Create a custom button or invitation to launch the web chat client. -->
    <button id="launchChatButton" onclick="launchChat()">Click to contact support</button>

    <!-- Call Launch Chat API -->
    <script>
      function launchChat() {
        embeddedservice_bootstrap.utilAPI.launchChat()
            .then(() => {
                console.log('Chat launched');
                // Success handler used to perform actions
                // when the chat client launches successfully.
                // For example, create a method that disables the launch chat button.
                // disableLaunchChatButton();
            }).catch(() => {
                console.log('Chat Catch');
                // Error handler used to perform actions
                // if the chat client fails to launch.
                // For example, create a method that hides the launch chat button.
                hideLaunchChatButton();
            }).finally(() => {
                // Finally handler used to perform any clean-up actions
                // regardless of whether the chat client launches successfully or not.
                // For example, create a method that logs the userâ€™s attempt to chat.
                // logEndUserAttemptToChat();
            });
      }
    </script>
  </body>
</html>
